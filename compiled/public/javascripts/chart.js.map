{
  "version": 3,
  "sources": [
    "chart.js"
  ],
  "names": [
    "chart",
    "stocksData",
    "d3",
    "select",
    "selectAll",
    "remove",
    "length",
    "margin",
    "top",
    "right",
    "bottom",
    "left",
    "w",
    "h",
    "width",
    "height",
    "svg",
    "append",
    "attr",
    "g",
    "parseTime",
    "utcParse",
    "x",
    "scaleTime",
    "range",
    "y",
    "scaleLinear",
    "z",
    "scaleOrdinal",
    "schemeCategory10",
    "line",
    "curve",
    "curveBasis",
    "d",
    "date",
    "price",
    "stocks",
    "map",
    "stock",
    "symbol",
    "values",
    "Object",
    "keys",
    "split",
    "parseFloat",
    "domain",
    "min",
    "s",
    "max",
    "call",
    "axisBottom",
    "axisLeft",
    "text",
    "stockLine",
    "data",
    "enter",
    "style",
    "datum",
    "value"
  ],
  "mappings": "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",
  "file": "chart.js",
  "sourceRoot": "../../../src/public/javascripts",
  "sourcesContent": [
    "var chart = function(stocksData) {\r\n  d3.select('#chart').selectAll('svg').remove()\r\n\r\n  if (stocksData.length > 0) {\r\n    var margin = {top: 40, right: 60, bottom: 50, left: 60}\r\n    var w = 950\r\n    var h = 500\r\n    var width = w - margin.left - margin.right\r\n    var height = h - margin.top - margin.bottom\r\n\r\n    var svg = d3.select('#chart')\r\n        .append('svg')\r\n        .attr('width', w)\r\n        .attr('height', h)\r\n    var g = svg.append('g')\r\n        .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\r\n\r\n    var parseTime = d3.utcParse(\"%Y-%m-%d\")\r\n\r\n    var x = d3.scaleTime().range([0, width]),\r\n        y = d3.scaleLinear().range([height, 0]),\r\n        z = d3.scaleOrdinal(d3.schemeCategory10)\r\n\r\n    var line = d3.line()\r\n        .curve(d3.curveBasis)\r\n        .x(function(d) {return x(d.date)})\r\n        .y(function(d) {return y(d.price)})\r\n\r\n    var stocks = stocksData.map(function(stock) {//returns an array of objects\r\n      return {\r\n        symbol: stock['Meta Data']['2. Symbol'],\r\n        values: Object.keys(stock['Time Series (Daily)']).map(function(d) {\r\n          return {date: parseTime(d.split(' ')[0]), price: parseFloat(stock['Time Series (Daily)'][d]['4. close'])}\r\n       })\r\n     }\r\n   })\r\n\r\n    x.domain([\r\n      d3.min(stocks, function(s) {return d3.min(s.values, function(d) {return d.date})}),\r\n      d3.max(stocks, function(s) {return d3.max(s.values, function(d) {return d.date})})\r\n    ])\r\n\r\n    y.domain([\r\n      d3.min(stocks, function(s) {return d3.min(s.values, function(d) {return d.price})}),\r\n      d3.max(stocks, function(s) {return d3.max(s.values, function(d) {return d.price})})\r\n    ])\r\n\r\n    z.domain(stocks.map(function(s) {return s.symbol}))\r\n\r\n    g.append(\"g\")\r\n        .attr(\"class\", \"axis axis--x\")\r\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n        .call(d3.axisBottom(x))\r\n\r\n    g.append(\"g\")\r\n        .attr(\"class\", \"axis axis--y\")\r\n        .call(d3.axisLeft(y))\r\n      .append(\"text\")\r\n        .attr(\"transform\", \"rotate(-90)\")\r\n        .attr(\"y\", 6)\r\n        .attr(\"dy\", \"0.71em\")\r\n        .attr(\"fill\", \"#000\")\r\n        .text(\"Stock Price, $\")\r\n\r\n    var stockLine = g.selectAll(\".stockLine\")\r\n      .data(stocks)\r\n      .enter().append(\"g\")\r\n        .attr(\"class\", \"stockLine\")\r\n\r\n    stockLine.append(\"path\")\r\n        .attr(\"class\", \"line\")\r\n        .attr(\"d\", function(d) {return line(d.values)})\r\n        .style(\"stroke\", function(d) {return z(d.symbol)})\r\n\r\n    stockLine.append(\"text\")\r\n        .datum(function(d) {return {symbol: d.symbol, value: d.values[0]}})\r\n        .attr(\"class\", \"label\")\r\n        .attr(\"transform\", function(d) {return \"translate(\" + x(d.value.date) + \",\" + y(d.value.price) + \")\"})\r\n        .attr(\"x\", 3)\r\n        .attr(\"dy\", \"0.35em\")\r\n        .text(function(d) {return d.symbol})\r\n }\r\n}\r\n"
  ]
}
